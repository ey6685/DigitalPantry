extends admin_template

//- Replaces 'block content' inside layout_template with whatever Renders parameter 'title'

block content
	br
	br
	br
	br
	div(class='container-fluid', class='rounded', style='width: 80%')
		h1 #{title}
		br
		a.btn.btn-default(href='/ingredients/cards')
			i(style='color:black').fa.fa-th-large.fa-2x
		a.btn.btn-default(href='/ingredients/showall')
			i(style='color:black').fa.fa-list.fa-2x
		a.btn.btn-primary(href='/ingredients/add', class='h-75')
			| Add Multiple Ingredients
		p
		table.table.table-dark(class='rounded')
			//-caption Available Ingredients
			thead
				tr
					th(scope='col') 
					th(scope='col') Name
					th(scope='col') Total
					th(scope='col') Measurement
					th(scope='col') Expiration Date
					th(scope='col') Action
			tbody
				tr
					form(method= 'POST', action= '/ingredients/add', class= 'form', enctype="multipart/form-data")
						.form-row.row-dark(class='rounded')
							.form-group.col-md-4
								img#output.mr-2.ml-3.mt-2(width='50', height='50')
								input(type='file', id='image', name='image', accept='image/*', onchange='loadFile(event)', class='align-middle')
							.form-group.col-md-2
								input.form-control.mt-3(name='ingredientProperties[0]', type='text', placeholder='Name = Tuna')
							.form-group.col-md-1
								input.form-control.mt-3(name='ingredientProperties[1]', type='text', placeholder='Total = 2')
							.form-group.col-md-2
								.dropdown-inline
								select.form-control.mt-3(name='ingredientProperties[2]', required)
									option(value='') Measurement
									option(value='tsp.') Teaspoon
									option(value='tbsp.') Tablespoon
									option(value='fl oz') Fluid Ounce
									option(value='cup') Cup
									option(value='quart') Quart
									option(value='ml') Millilitre
									option(value='lb') Pound
									option(value='oz') Dry Ounce
							.form-group.col-md-2
								input.form-control.mt-3(name='ingredientProperties[3]', type='date')
							input.btn.btn-primary.col-md-1.mt-3(type='submit', value='Add', class='form-group')
						.form-row
							p
				for item in results
					tr
						td
							img.ml-3(src=item.ingredient_image_path, alt='image', width='50', height='50')
						td(class='align-middle')= item.ingredient_name
						td(class='align-middle')= item.ingredient_amount
						td(class='align-middle')= item.ingredient_unit_of_measurement
						td(class='align-middle')= item.ingredient_expiration_date
						td(class='align-middle') 
							//- Set a button with data-id that will be used for AJAX trigger defines in /js/main.js
							a.btn.btn-danger.delete-ingredient.mr-0(data-id=item.ingredient_id,data-ex=item.ingredient_expiration_date, data-unit=item.ingredient_unit_of_measurement, data-qty=item.ingredient_amount) DELETE